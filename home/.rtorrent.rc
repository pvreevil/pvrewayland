# vim: set syntax=conf:

method.insert = cfg.basedir,	private|const|string, (cat, "/mnt/hdd1/rtorrent/")
method.insert = cfg.download,	private|const|string, (cat,(cfg.basedir),"download/")
method.insert = cfg.logs,	private|const|string, (cat,(cfg.basedir),"log/")
method.insert = cfg.logfile,	private|const|string, (cat,(cfg.logs),"rtorrent-",(system.time),".log")
method.insert = cfg.session,	private|const|string, (cat,(cfg.basedir),".session/")
method.insert = cfg.watch,	private|const|string, (cat,(cfg.basedir),"watch/")


#Basic operational settings
directory.default.set = (cat,(cfg.basedir),"download/")
session.path.set = (cat, (cfg.basedir), ".session")
directory.default.set = (cat, (cfg.basedir), "download/")
log.execute = (cat, (cfg.logs), "execute.log")
##log.xmlrpc = (cat, (cfg.logs), "xmlrpc.log")
execute.nothrow = bash, -c, (cat, "echo >",\
    (session.path), "rtorrent.pid", " ", (system.pid))


execute.throw = sh, -c, (cat,\
	"mkdir -p \"",(cfg.download),"\" ",\
		"\"",(cfg.logs),"\" ",\
		"\"",(cfg.session),"\" ",\
		"\"",(cfg.watch),"/load\" ",\
		"\"",(cfg.watch),"/start\" ")

network.port_random.set = yes

#trackers.use_udp.set = yes

dht.mode.set = auto
protocol.pex.set = 1
#trackers.use_udp.set = yes

throttle.global_down.max_rate.set_kb = 0
throttle.global_up.max_rate.set_kb = 20


throttle.max_uploads.set = 50
throttle.max_downloads.set = 50

throttle.max_downloads.global.set = 200
throttle.max_uploads.global.set = 200

throttle.min_peers.normal.set = 20
throttle.max_peers.normal.set =  100
throttle.min_peers.seed.set = -1
throttle.max_peers.seed.set = -1
trackers.numwant.set = -1

pieces.memory.max.set = 4000M
pieces.preload.type.set = 2

network.max_open_sockets.set = 666

#protocol.encryption.set = allow_incoming,try_outgoing,enable_retry
